(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t(14),u=t.n(a),r=t(3),o=t(0),i=function(e){return Object(o.jsxs)("form",{onSubmit:e.addName,children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(o.jsxs)("div",{children:["number: ",Object(o.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})},s=t(4),l=t.n(s),d="/api/persons",j=function(){return l.a.get(d)},b=function(e){return l.a.post(d,e)},h=function(e){return l.a.delete("".concat(d,"/").concat(e))},m=function(e){var n=e.person,t=e.remove;return Object(o.jsxs)("div",{children:[n.name," ",n.number," ",Object(o.jsx)("button",{onClick:t,children:"Delete"})]})},f=function(e){var n=e.nameFind,t=e.handleSearch;return Object(o.jsxs)("div",{children:["filter shown with ",Object(o.jsx)("input",{value:n,onChange:t})]})},O=function(e){var n=e.message;return null===n?null:n.includes("Added")?Object(o.jsx)("div",{className:"success",children:n}):Object(o.jsx)("div",{className:"error",children:n})},v=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],u=Object(c.useState)(""),s=Object(r.a)(u,2),l=s[0],d=s[1],v=Object(c.useState)([]),x=Object(r.a)(v,2),p=x[0],g=x[1],w=Object(c.useState)(""),N=Object(r.a)(w,2),C=N[0],S=N[1],k=Object(c.useState)(""),D=Object(r.a)(k,2),y=D[0],A=D[1],L=Object(c.useState)(null),T=Object(r.a)(L,2),E=T[0],F=T[1];Object(c.useEffect)((function(){j().then((function(e){a(e.data)}))}),[]);var J=Object(c.useState)(!1),B=Object(r.a)(J,2),I=B[0],P=(B[1],I?t:t.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())})));return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(O,{message:E}),Object(o.jsx)(f,{nameFind:y,handleSearch:function(e){e.preventDefault();var n,c=[];for(n=0;n<t.length;n++)t[n].name.toLowerCase().includes(e.target.value)?(A(e.target.value),c=c.concat(t[n])):A(e.target.value)}}),Object(o.jsx)("h2",{children:"Add a new"}),Object(o.jsx)(i,{addName:function(e){if(e.preventDefault(),p.includes(l))F("".concat(l," is already added to phonebook")),setTimeout((function(){F(null)}),5e3);else{var n={name:l,number:C};b(n).then((function(e){a(t.concat(n)),g(p.concat(l)),F("Added ".concat(n.name)),setTimeout((function(){F(null)}),5e3)}))}d(""),S("")},newName:l,handleNameChange:function(e){d(e.target.value)},newNumber:C,handleNumberChange:function(e){S(e.target.value)}}),Object(o.jsx)("h2",{children:"Numbers"}),P.map((function(e){return Object(o.jsx)(m,{person:e,remove:function(){return function(e){h(e.id),j().then((function(n){window.confirm("Delete ".concat(e.name,"?"))&&(a(t.filter((function(n){return n.id!==e.id}))),F("Deleted ".concat(e.name)),setTimeout((function(){F(null)}),5e3))})),console.log("penis)"),j((function(e){return console.log(e.data)}))}(e)}},e.name)}))]})};t(38);u.a.render(Object(o.jsx)(v,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.703929e6.chunk.js.map